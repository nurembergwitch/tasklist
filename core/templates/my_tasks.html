{% extends 'base.html' %}

{% block content %}

<div class="flex h-screen w-screen justify-center items-center">
    <div class="grid grid-cols-2">
        <div>
            <h1><a href="{% url 'my-tasks' %}"><B>MY TASKLIST</B></a> </h1>
            <div>{% include 'partials/search.html' %}</div>
            
            <form action="">
                {% csrf_token %}
                <input type="text" name="taskdesc" placeholder="add a task">
                <div>
                    <select name="category" id="">
                    <option value="none">Select a category...</option>
                        {% for category in categories %}
                            <option value="{{category.pk}}">{{category.name}}</option>
                        {% endfor %}
                    </select>
                </div>
                
                <div>
                    <label for="newCategory">Add a new category</label>
                <input type="text" name="category_new" placeholder="add a new category">
                </div>
            
                <div><button hx-post="{% url 'add-task' %}" hx-target="#task-list" type="submit"><b>ADD TASK</b></button></div>
            </form>

            <div>Tags: 
                {% for category in categories %}
                    <a href="{% url 'my-tasks' %}?category={{category.name}}"><b>{{category.name}}</b></a>
                {% endfor %}
            </div>
        <form action="">
            <input type="text">
        </form>
        </div>
    <div id="search-results">
        <div id="task-list">
                {% include 'partials/task-list.html' %}         
        </div>
    </div>
    </div>
</div>

{% endblock %}